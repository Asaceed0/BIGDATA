# REGEXP  /……/

练习网址：https://regex101.com/

# 1. 直接匹配

<img src="C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011205540174.png" alt="image-20231011205540174" style="zoom: 80%;" />

# 2. 元字符

## (1)  .   匹配单个字符 

- 不包含换行符（但包含空格）

<img src="C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011205903780.png" alt="image-20231011205903780" style="zoom:80%;" />



## (2) []  字符集

- 里面写可能出现的字符，不关心顺序，（只匹配一个字符）



<img src="C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011210436318.png" alt="image-20231011210436318" style="zoom:80%;" />



- []里有# ， a-z, T-Z ,所以可以匹配到如上图

## (3) [^] 否定字符集 

- 在方括号内做开头时，表示否定。表示**“除了……之外”**

<img src="C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011211058926.png" alt="image-20231011211058926" style="zoom:80%;" />

- 可见结果和上面的[]完全相反



## (4)  *   ，*前出现 0~n次



<img src="C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011211150514.png" alt="image-20231011211150514" style="zoom:80%;" />



- 前面不加* 的案例中，字符集中只能匹配一个。1asa中只有sa符合，加了*之后那么a前面可以多个字符集中符合的字符
- 此时1asa中 asa 符合了，不再时sa，因为as都是a-z



## (5) + ， +前出现至少一次

- 看看和*的区别

- ![image-20231011211750459](C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011211750459.png)

  ![image-20231011211841603](C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011211841603.png)

- 可以发现第二个字母e不再匹配了，其前面是“ 0”个r。



## (6) ？ ， ？前出现0或1次

- 当？ 跟在字符集后 表示 出现1或0次，后文可以见其在切换匹配模式上的用法

![image-20231011212134625](C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011212134625.png)



- 使用* ，rrre 能够匹配，前面有3个r
- ![image-20231011212216668](C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011212216668.png)
- 使用？，rrre 不能匹配，因为只匹配 0~1 个r



## (7) {}, 指定出现次数

- {4} 刚好4个

- {4，}4个以上

- {3，4}最少3个最多4个

- {，3}最多3个

  <img src="C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011212657081.png" alt="image-20231011212657081" style="zoom:80%;" />

## (8)  () 特征标群

- 写在括号内的字符在意顺序

  ![image-20231011213151700](C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011213151700.png)

- 发现abc  是 而 bca不是

## (9) | 或

![image-20231011213409650](C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011213409650.png)

- 匹配the/The/car

## (10) \  反斜杠转义字符

- 不加 \ ,  "." 用于匹配任意字符

- " \\." 用于匹配 “.”

  <img src="C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011213654952.png" alt="image-20231011213654952" style="zoom: 80%;" />

  ![image-20231011213716580](C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011213716580.png)

- 特别的，[]和（）中写啥就是啥，不需要转义字符

- [.]匹配的就是“.”

## (11) 锚点 字符串开头结尾

- ^ 表示开端

- $ 表示结尾

  ![image-20231011214038941](C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011214038941.png)

- abc不以b开头，无法匹配到

![image-20231011214238724](C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011214238724.png)

- 是作用于整个用于匹配的字符串的。可见acd并没有匹配到

  ![image-20231011214536657](C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011214536657.png)



# 3. 简写字符集

正则表达式提供一些常用的字符集简写。如下:

| 简写 |                        描述                        |
| ---- | :------------------------------------------------: |
| .    |                除换行符外的所有字符                |
| \w   |      匹配所有字母数字，等同于 `[a-zA-Z0-9_]`       |
| \W   |    匹配所有非字母数字，即符号，等同于： `[^\w]`    |
| \d   |                 匹配数字： `[0-9]`                 |
| \D   |                匹配非数字： `[^\d]`                |
| \s   |    匹配所有空格字符，等同于： `[\t\n\f\r\p{Z}]`    |
| \S   |            匹配所有非空格字符： `[^\s]`            |
| \f   |                   匹配一个换页符                   |
| \n   |                   匹配一个换行符                   |
| \r   |                   匹配一个回车符                   |
| \t   |                   匹配一个制表符                   |
| \v   |                 匹配一个垂直制表符                 |
| \p   | 匹配 CR/LF（等同于 `\r\n`），用来匹配 DOS 行终止符 |

![image-20231011214836443](C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011214836443.png)



# 4. 零宽度断言/前后预查

- **断言需要用（）**

| 符号 |      描述       |
| ---- | :-------------: |
| ?=   | 正先行断言-存在 |
| ?!   | 负先行断言-排除 |
| ?<=  | 正后发断言-存在 |
| ?<!  | 负后发断言-排除 |





## (1) 正先行断言（后面跟啥）

- (?=)

- 不加断言

  ![image-20231011215436956](C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011215436956.png)

- 我们想要匹配到the/The, 且后面是“ tall”

  ![image-20231011215719227](C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011215719227.png)

## （2）负先行断言 （后面不跟啥）

- (?!)

![image-20231011215919847](C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011215919847.png)

## （3）正后发断言（前面跟啥）

- （？<=）

![image-20231011220147679](C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011220147679.png)

- 前面跟 the/The + 空格  的short 或者 tall

## （4）负后发断言 （前面不跟啥）

![image-20231011220414339](C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231011220414339.png)

- 前面不跟the+空格的short 或者tall





# 5.标志

| i    |                     忽略大小写。                      |
| :--- | :---------------------------------------------------: |
| g    |                      全局搜索。                       |
| m    | 多行修饰符：锚点元字符 `^` `$` 工作范围在每行的起始。 |



- 标志写在/ 表达式/ 后， 如    

- ```python
  r"/(T)+a/gm"
  # 全局上，每行 匹配所有符合的字符
  ```

- 

![image-20231012181649766](C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231012181649766.png)

- 全称如下
- <img src="C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231012181741984.png" alt="image-20231012181741984" style="zoom: 80%;" />
- 如果没有g，就是只匹配第一个





# 6. 贪婪匹配 和 惰性匹配  ，  ？的使用



- 当？ 跟在字符集后，如   /[a]?a/ 匹配a前有0到1个a的字符
- 当？ 跟在表示重复次数的符号后时，用于改变匹配模式。
- 加了？ 后由贪婪匹配改为惰性匹配



- 正则表达时默认贪婪匹配，即符合规则的尽可能长

![image-20231012183037934](C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231012183037934.png)

- 可以发现at前可以有 任意个任意字符
- 那么一整串除了最后的句号以外，可以视为一个长的符合规则的字符串

![image-20231012183158880](C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231012183158880.png)

- 加了？ 之后由贪婪匹配改为惰性匹配，将让匹配的结果尽可能短

![image-20231012183407104](C:\Users\32335\AppData\Roaming\Typora\typora-user-images\image-20231012183407104.png)

- 可以看见 the fat 和cat ………… 分别匹配上了，而不是就只有一整串
- 